<ui:composition template="/WEB-INF/templates/master.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    >
    
    <ui:define name="title">Blog Home</ui:define>

    <ui:define name="content">
        <div class="row">
            <div class="col-sm-8 blog-main">
                <ui:repeat value="#{postController.allPosts}" var="temp">
                    <div class="blog-post">
                    <h2 class="blog-post-title">#{temp.title}</h2>
                    <div class="blog-post-meta">By <a href="mailto:#{temp.author.email}">#{temp.author.name}</a></div>
                    <p>
                     #{temp.body}
                    </p>
                    
                    <ui:fragment rendered="#{temp.author.id eq user.id}">
                        <h:form>
                            <h:commandButton class="btn btn-danger" action="#{postController.deletePost(temp)}" value="Delete"></h:commandButton>
                        </h:form>
                    </ui:fragment>
                  </div>
                </ui:repeat>
                </div>
        </div>
    </ui:define>
    </ui:composition>