<ui:composition template="/WEB-INF/templates/master.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    >
    
    <ui:define name="title">Search</ui:define>

    <ui:define name="content">
        <h2>Search by anything</h2>
        <h:form>
            <div class="input-group input-group-lg">
            <h:inputText class="form-control" id="first" value="#{post.body}">
                <f:ajax event="keyup" render="results"/>
            </h:inputText>
            <span class="input-group-btn">
                <button class="btn btn-primary" type="button">Search</button>
             </span>
            </div>
            <br/>
            

            <h:panelGroup id="results">
            <ui:repeat value="#{postController.matchingPosts}" var="post">
            <div class="blog-post">
                    <h2 class="blog-post-title">#{post.title}</h2>
                    <div class="blog-post-meta">By <a href="mailto:#{post.author.email}">#{post.author.name}</a></div>
                    <p>
                     #{post.body}
                    </p>
             </div>
            </ui:repeat>
            </h:panelGroup>
            

        </h:form>
    </ui:define>
    
</ui:composition>